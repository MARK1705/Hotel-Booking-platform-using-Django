{% extends "base.html" %}
{% block content %}
<div class="container mt-4">
    <h2>Hotel Search</h2>
    <form class="form-inline mb-3" method="get" action="">
        <input type="text" name="city" class="form-control mb-2 mr-sm-2" placeholder="Enter City" value="{{ city }}">
        <button class="btn btn-primary mb-2 mr-sm-2" type="submit">Search</button>
        {% if city %}
            <input type="text" name="hotel_name" class="form-control mb-2 mr-sm-2" placeholder="Filter by Hotel Name" value="{{ hotel_name }}" oninput="this.form.submit()">
        {% endif %}
    </form>
    <table class="table table-striped">
        <thead>
            <tr><th>Name</th><th>Address</th><th>Rating</th><th>Price</th><th>Amenities</th></tr>
        </thead>
        <tbody>
            {% for hotel in hotels %}
            <tr>
                <td>{{ hotel.name }}</td>
                <td>{{ hotel.address }}</td>
                <td>{{ hotel.rating }}</td>
                <td>{{ hotel.price }}</td>
                <td>{{ hotel.amenities }}</td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="5"><strong>No hotels found for this search.</strong></td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}
